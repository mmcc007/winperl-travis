os: windows
language: shell
env:
  # https://chocolatey.org/packages/StrawberryPerl#versionhistory
  - STRAW_PERL_VERSION: 5.28
  - STRAW_PERL_VERSION: 5.26
before_install:
  - set
  - cinst -y strawberryperl --version $STRAW_PERL_VERSION
  - export "PATH=/c/Strawberry/perl/site/bin:/c/Strawberry/perl/bin:/c/Strawberry/c/bin:$PATH"
  - perl -v
install:
  - cpanm --notest --installdeps .
script:
  - perl Makefile.PL
  - gmake
  - gmake test
